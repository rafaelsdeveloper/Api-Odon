(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06b198d2"],{"0993":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"attendees-search-view"},[t("van-row",{staticClass:"mobile-schedule-title",attrs:{type:"flex",justify:"space-between",align:"center"}},[t("van-col",[t("van-button",{staticClass:"border-none title-left-button",nativeOn:{click:function(t){return e.closeAttendeesSearch.apply(null,arguments)}}},[e._v("Cancel")])],1),t("van-col",[e._v(e._s(e.$t("addInvitees")))]),t("van-col",[t("van-button",{staticClass:"border-none title-right-button",attrs:{plain:""},on:{click:e.saveAttendeesVal}},[e._v("OK")])],1)],1),t("div",{staticClass:"attendees-search",class:0===e.attendeesList.length?"":"mobile-interval",on:{click:e.attendeeInit}},[e._l(e.attendeesValue,(function(a,s){return t("div",{key:s,staticClass:"attendees-search-item",class:e.attendeeSelected===s?"attendee-selected":"",on:{click:function(t){return t.stopPropagation(),e.handleAttendeeClick(s)}}},[t("van-popover",{attrs:{trigger:"click",actions:e.actions},on:{select:function(t){return e.onSelectAttendee(s)}},scopedSlots:e._u([{key:"reference",fn:function(){return[e._v(" "+e._s(e.getAttendeeDisplayName(a))+"„ÄÅ ")]},proxy:!0}],null,!0),model:{value:e.showPopover[s],callback:function(t){e.$set(e.showPopover,s,t)},expression:"showPopover[i]"}})],1)})),t("van-field",{ref:"attendeesSearchInput",staticClass:"attendees-search-input",attrs:{placeholder:"Invitees",disabled:"undefined"!==typeof e.data.channelInfo.channelId&&""!==e.data.channelInfo.channelId,"value-key":"email",autocomplete:"off"},on:{input:e.attendeesRemoteSearch},model:{value:e.attendeesSearchKey,callback:function(t){e.attendeesSearchKey=t},expression:"attendeesSearchKey"}})],2),t("van-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:e.attendeesListVal.length,expression:"attendeesListVal.length"}],on:{change:e.attendeesChanged},model:{value:e.attendeesValue,callback:function(t){e.attendeesValue=t},expression:"attendeesValue"}},[t("van-cell-group",e._l(e.attendeesListVal,(function(a){return t("van-cell",{key:"mobile-attendees-"+a.email,attrs:{clickable:"",center:"",role:"checkbox","aria-checked":e.attendeesValue.includes(a.email),border:!1},scopedSlots:e._u([{key:"title",fn:function(){return[t("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{name:a.email}},[t("img",{staticClass:"attendee-avatar",attrs:{src:a.picUrl?a.picUrl:e.defaultAvatar,alt:""}}),t("span",{staticClass:"van-ellipsis attendees-displayName"},[e._v(e._s(""!==a.displayName?a.displayName:a.email))])])]},proxy:!0},{key:"right-icon",fn:function(){return["accepted"===a.responseStatus?t("svg-icon",{attrs:{data_iconName:"rsvp-yes",className:"timeline-recording-icon"}}):"tentative"===a.responseStatus?t("svg-icon",{attrs:{data_iconName:"rsvp-maybe",className:"timeline-recording-icon maybe"}}):"declined"===a.responseStatus?t("svg-icon",{attrs:{data_iconName:"rsvp-no",className:"timeline-recording-icon"}}):"needsAction"===a.responseStatus?t("svg-icon",{attrs:{data_iconName:"rsvp-awaiting",className:"timeline-recording-icon"}}):e._e()]},proxy:!0}],null,!0)})})),1)],1)],1)};t.render=a;var s=[];t.staticRenderFns=s},"2ab6":function(e,t,a){},"2e58":function(e,t,a){"use strict";a.r(t);var s=a("929c"),n=a.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t["default"]=n.a},"6d14":function(e,t,a){"use strict";a("2ab6")},"929c":function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14d9");var s=a("d77b"),n=a("21df"),r={name:"AttendeesSearch",data(){return{data:{},attendeesValue:[],attendeesSearchKey:"",attendeesListVal:[],attendees:[],attendeesList:[],$attendees:null,organizer:{},defaultAvatar:a("95c3"),attendeeSelected:-1,showPopover:[],actions:[{text:"delete"}],attendeesSelected:[],isMobile:!1}},watch:{attendeesList:{handler(e){this.attendeesListVal=JSON.parse(JSON.stringify(this.attendeesSelected)),e.forEach(e=>{const t=this.attendeesSelected.findIndex(t=>t.email===e.email);-1===t&&this.attendeesListVal.push(e)})},deep:!0},attendeesValue(){this.showPopover=new Array(this.attendeesValue.length).fill(!1)}},async created(){this.data=this.$route.params.data,this.attendeesSelected=this.$route.params.attendeesValue,this.attendeesListVal=this.$route.params.attendeesValue,this.$route.params.attendeesValue.forEach(e=>{this.attendeesValue.push(e.email),this.attendees.push(e.email),this.data.attendeesMap.has(e.email)||this.data.attendeesMap.set(e.email,e)}),this.organizer=this.$route.params.organizer,this.isMobile=this.$route.params.isMobile,this.$bus.$on("ZMCalendarUINotifSearchContactUpdated",e=>{const t=e.result.info.fromType;switch(t){case"attendee":this.handleAttendeesRemoteResult(e);break;default:break}})},methods:{attendeeInit(){this.attendeeSelected=-1,this.showPopover=new Array(this.attendeesValue.length).fill(!1)},handleAttendeeClick(e){this.attendeeSelected=e,this.showPopover=new Array(this.attendeesValue.length).fill(!1),this.showPopover[e]=!0},onSelectAttendee(e){this.attendeesValue.splice(e,1)},async attendeesRemoteSearch(e){if(""!==e){this.attendeesSearchKey=e;try{await window.zoomSdk.postJsMessage({functionName:"calendarui_searchcontacts",params:{searchKey:e,fromType:"attendee"}})}catch(t){window.zoomLog("INFO","search alter host error: ",t)}}},addOrganizer(){const e=this.attendeesValue.some(e=>(e.responseStatus=e.email===this.organizer.email?"accepted":e.responseStatus,e.email===this.organizer.email));if(!1===this.organizer.isUserCreated&&!e&&(this.attendeesValue.unshift(this.organizer.email),!this.data.attendeesMap.has(this.organizer.email))){const e={email:this.organizer.email,displayName:this.organizer.displayName,calendarId:this.organizer.email,responseStatus:"accepted",checked:!0,organizer:!0,backgroundColor:"#039be5",type:"attendee"};this.data.attendeesMap.set(this.organizer.email,e),this.data.attendeesList.push(e),this.attendeesListVal.push(e),this.attendeesSelected.push(e)}},handleAttendeesRemoteResult(e){if(!this.isMobile)return;let t=e.result.info,a=e.result.info.searchKey;if(this.attendeesSearchKey.toLowerCase()===a.toLowerCase())if(t.contacts&&t.contacts.length>0)t.contacts.forEach(e=>{e.type=e.resource?"room":"attendee",e.resource=Boolean(e.resource),e.backgroundColor=e.backgroundColor?e.backgroundColor:(0,n.getAvatarBgColor)(e.email),e.calendarId=e.email,e.responseStatus=e.email===this.data.calendarId?"accepted":"",e.checked=!0,this.data.attendeesMap.has(e.email)||this.data.attendeesMap.set(e.email,e)}),this.attendeesList=t.contacts;else if(window.zoomLog("searchResult.contacts is none"),s.ScheduleUtil.verifyEmailAddress(this.attendeesSearchKey)){const e={displayName:this.attendeesSearchKey.split("@")[0],email:this.attendeesSearchKey.trim(),isExternal:!0,picUrl:""};this.data.attendeesMap.has(this.attendeesSearchKey)||this.data.attendeesMap.set(this.attendeesSearchKey,e),this.attendeesList=[e]}},attendeesChanged(){this.attendeesSelected=[],this.attendeesValue.forEach(e=>{if(this.data.attendeesMap.has(e)){let t=this.data.attendeesMap.get(e);this.attendeesSelected.push(t)}});for(let e=0;e<this.attendeesValue.length;e++){let t=this.attendeesValue[e];if(!s.ScheduleUtil.verifyEmailAddress(t))return void(this.attendeesValue=this.attendees)}0===this.attendees.length&&1===this.attendeesValue.length&&"Office365"!==this.data.provider&&this.addOrganizer(),this.data.suggestions=[],this.attendeesSearchKey="",this.$refs.attendeesSearchInput.focus(),this.attendeeSelected=-1},closeAttendeesSearch(){this.$router.push({name:"ClientAdapter"}),this.data.attendeesMap=new Map},saveAttendeesVal(){let e=[];this.attendeesValue.forEach(t=>{if(this.data.attendeesMap.has(t)){let a=this.data.attendeesMap.get(t);a.responseStatus=a.responseStatus?a.responseStatus:"needsAction",e.push(a)}}),this.data.attendeesMap=new Map,this.$router.push({name:"ClientAdapter",params:{attendees:e}})},getAttendeeDisplayName(e){if(this.data.attendeesMap.has(e)){const t=this.data.attendeesMap.get(e);return t.displayName?t.displayName:t.email}}}};t.default=r},"95c3":function(e,t,a){e.exports=a.p+"static/img/default-avatar.f87c46f3.png"},c20d:function(e,t,a){"use strict";var s=a("0993");a.o(s,"render")&&a.d(t,"render",(function(){return s["render"]})),a.o(s,"staticRenderFns")&&a.d(t,"staticRenderFns",(function(){return s["staticRenderFns"]}))},d77b:function(e,t,a){"use strict";a.r(t),a.d(t,"ScheduleUtil",(function(){return s}));class s{static generateNumberPasscode(e){return Math.random().toFixed(e).slice(-e)}static generateComplexPasscode(e,t){const a=[];for(let s=0;s<e;s++)a.push(t.charAt(Math.floor(Math.random()*t.length)));return a.join("")}static generateNumAndCharPassword(){let e=6;const t=[];t.push(Math.floor(10*Math.random())),e--;const a="abcdefghijkmnpqrstuvwxyzABCDEFGHIJKLMNPQRSTUVWXYZ";t.push(a.charAt(Math.floor(49*Math.random()))),e--;const s="0123456789abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";return t.join("")+this.generateComplexPasscode(e,s)}static generatePasscode(e){if(null!==e&&Object.keys(e).length>0){const t=Math.max(6,e.minLength);if(!0===e.onlyNumber)return this.generateNumberPasscode(t);let a=this.generatePasscodeByRules(t,e);if(!0===e.hasConsecutiveLimit){let s=5;while(s>0){if(!this.isConsecutiveString(a,e.consecutiveLength,!0))return a;a=this.generatePasscodeByRules(t,e),s--}}return a}return this.generateNumberPasscode(6)}static generatePasscodeByRules(e,t){const a="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",s=[];s.push(Math.floor(10*Math.random())),e--;let n="0123456789",r=!1;if(!0===t.hasAlphabet&&(s.push(a.charAt(Math.floor(Math.random()*a.length))),e--,n+=a,r=!0),!0===t.hasSpecialSymbol){const t="!@#$%^&*.?+=";s.push(t.charAt(Math.floor(Math.random()*t.length))),e--,n+=t}if(!0===t.hasUpperAndLowerCharacter){const t="ABCDEFGHJKLMNPQRSTUVWXYZ";s.push(t.charAt(Math.floor(Math.random()*t.length))),e--;const i="abcdefghijkmnpqrstuvwxyz";s.push(i.charAt(Math.floor(Math.random()*i.length))),e--,r||(n+=a)}return this.shuffleStr(Array.from(s.join("")+this.generateComplexPasscode(e,n))).join("")}static shuffleStr(e){for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[a],e[a]=s}return e}static isConsecutiveString(e,t,a){a&&(e=e.toLowerCase());const s=e.length;let n,r,i;for(let o=0;o+t<=s;o++){n=0,r=0,i=0;for(let a=0;a<t-1;a++){if(e.charCodeAt(o+a)===e.charCodeAt(o+a+1)&&(n++,n===t-1))return!0;if(e.charCodeAt(o+a+1)-e.charCodeAt(o+a)===1&&(r++,r===t-1))return!0;if(e.charCodeAt(o+a)-e.charCodeAt(o+a+1)===1&&(i++,i===t-1))return!0}if(this.checkKeyboard(e.substring(o,o+t)))return!0}return!1}static checkKeyboard(e){const t=["qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()","01234567890"];for(let a=0;a<t.length;a++){const s=t[a];if(-1!==s.indexOf(e))return!0}return!1}static verifyEmailAddress(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;let a="";return null!==e&&void 0!==e&&(a=e.trim()),0!==a.length&&t.test(a)}static isCustomLanguage(e){return 0!==e.length&&("US"!==e&&"CN"!==e&&"JP"!==e&&"DE"!==e&&"FR"!==e&&"RU"!==e&&"PT"!==e&&"ES"!==e&&"KR"!==e)}static getDefaultInterpreterLang(e){return"en"===e?"US":"zhCN"===e?"CN":"jp"===e?"JP":"de"===e?"DE":"fr"===e?"FR":"ru"===e?"RU":"pt"===e?"PT":"es"===e?"ES":"ko"===e?"KR":"US"}}},db8b:function(e,t,a){"use strict";a.r(t);var s=a("c20d"),n=a("2e58");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("6d14");var i=a("2877"),o=Object(i["a"])(n["default"],s["render"],s["staticRenderFns"],!1,null,null,null);t["default"]=o.exports}}]);